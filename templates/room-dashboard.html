{% load static %}

<!DOCTYPE html>
<html lang="en">
{% block headerinclude %}
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>CIT-U TeknoyReserve!</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link rel="icon" type="image/x-icon" href="{% static 'assets/img/favicon.png' %}">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="{% static 'assets/vendor/animate.css/animate.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/aos/aos.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/bootstrap-icons/bootstrap-icons.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/boxicons/css/boxicons.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/glightbox/css/glightbox.min.css' %}" rel="stylesheet">
  <link href="{% static 'assets/vendor/swiper/swiper-bundle.min.css' %}" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="{% static 'assets/css/style.css' %}" rel="stylesheet">



  <style>

    .button {
      background-color: #4CAF50; /* Green */
      border: none;
      color: white;
      padding: 15px 32px;
      text-align: center;
      text-decoration: none;
      display: inline-block;
      font-size: 16px;
      margin: 4px 2px;
      cursor: pointer;
    }
    td {
      text-align: center;
    }

    th {
      text-align: center;
    }

    .button1 {width: 200px;}

    a{
      text-decoration: none;
      color: inherit;
    }
    a.square_btn_up1{
      text-decoration: none;
      color: white;
    }
    a.square_btn_del1{
      text-decoration: none;
      color: white;
    }

    .square_btn_up1{
        display: inline-block;
        padding: 0.5em 1em;
        text-decoration: none;
        background: #668ad8;/*ButtonColor*/
        color: #FFF;
        border-bottom: solid 4px #25468e;
        border-radius: 3px;
    }
    .square_btn_up1:active {/*on Click*/
        --ms-transform: translateY(4px);
        -webkit-transform: translateY(4px);
        transform: translateY(4px);/*Move down*/
        box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.2);/*Reduce Shadow*/
        border-bottom: none;
    }

    .square_btn_del1{
        display: inline-block;
        padding: 0.5em 1em;
        text-decoration: none;
        background: #da3448;/*ButtonColor*/
        color: #FFF;
        border-bottom: solid 4px #6c141e;
        border-radius: 3px;
    }
    .square_btn_del1:active {/*on Click*/
        --ms-transform: translateY(4px);
        -webkit-transform: translateY(4px);
        transform: translateY(4px);/*Move down*/
        box-shadow: 0px 0px 1px rgba(0, 0, 0, 0.2);/*Reduce Shadow*/
        border-bottom: none;
    }
    .field-icon {
      margin-left: -30px;
      margin-top: -25px;
      position: relative;
      z-index: 2;
    }
    .field-iconModal {
      margin-left: 430px;
      margin-top: -25px;
      position: absolute;
      z-index: 5;
    }
    .custom-switch {
    padding-left: 2.25rem;
    }
    .custom-switch .custom-control-label::before {
        left: -2.25rem;
        width: 1.75rem;
        pointer-events: all;
        border-radius: 0.5rem;
    }
    .custom-switch .custom-control-label::after {
        top: calc(0.25rem + 2px);
        left: calc(-2.25rem + 2px);
        width: calc(1rem - 4px);
        height: calc(1rem - 4px);
        background-color: #adb5bd;
        border-radius: 0.5rem;
        transition: background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-transform 0.15s ease-in-out;
        transition: transform 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        transition: transform 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out, -webkit-transform 0.15s ease-in-out;
    }
    @media (prefers-reduced-motion: reduce) {
        .custom-switch .custom-control-label::after {
            transition: none;
        }
    }
    .custom-switch .custom-control-input:checked ~ .custom-control-label::after {
        background-color: #fff;
        -webkit-transform: translateX(0.75rem);
        transform: translateX(0.75rem);
    }
    .custom-switch .custom-control-input:disabled:checked ~ .custom-control-label::before {
        background-color: rgba(0, 123, 255, 0.5);
    }
    .custom-control {
    position: relative;
    z-index: 1;
    display: block;
    min-height: 1.5rem;
    padding-left: 1.5rem;
    -webkit-print-color-adjust: exact;
    color-adjust: exact;
}
.custom-control-inline {
    display: -ms-inline-flexbox;
    display: inline-flex;
    margin-right: 1rem;
}
.custom-control-input {
    position: absolute;
    left: 0;
    z-index: -1;
    width: 1rem;
    height: 1.25rem;
    opacity: 0;
}
.custom-control-input:checked ~ .custom-control-label::before {
    color: #fff;
    border-color: #007bff;
    background-color: #007bff;
}
.custom-control-input:focus ~ .custom-control-label::before {
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
}
.custom-control-input:focus:not(:checked) ~ .custom-control-label::before {
    border-color: #80bdff;
}
.custom-control-input:not(:disabled):active ~ .custom-control-label::before {
    color: #fff;
    background-color: #b3d7ff;
    border-color: #b3d7ff;
}
.custom-control-input:disabled ~ .custom-control-label,
.custom-control-input[disabled] ~ .custom-control-label {
    color: #6c757d;
}
.custom-control-input:disabled ~ .custom-control-label::before,
.custom-control-input[disabled] ~ .custom-control-label::before {
    background-color: #e9ecef;
}
.custom-control-label {
    position: relative;
    margin-bottom: 0;
    vertical-align: top;
}
.custom-control-label::before {
    position: absolute;
    top: 0.25rem;
    left: -1.5rem;
    display: block;
    width: 1rem;
    height: 1rem;
    pointer-events: none;
    content: "";
    background-color: #fff;
    border: #adb5bd solid 1px;
}
.custom-control-label::after {
    position: absolute;
    top: 0.25rem;
    left: -1.5rem;
    display: block;
    width: 1rem;
    height: 1rem;
    content: "";
    background: 50%/50% 50% no-repeat;
}
</style>

</head>
{% endblock headerinclude %}
{% block footerinclude %}
            <script src="https://kit.fontawesome.com/281912626c.js" crossorigin="anonymous"></script>
            <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
            <script src="https://code.jquery.com/ui/1.11.2/jquery-ui.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
            <script src = "https://code.jquery.com/jquery-3.5.1.js"></script>
           <!--  <script src ="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script> -->
            <script src ="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>             
            <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
            <script>
                    $(document).ready(function() {
                        $('#example').DataTable();
                    });
            </script>
{% endblock footerinclude %}

<body style="color: #000000">

  <!-- ======= Top Bar ======= -->
  <div class="backimage">
      <img src="{% static 'assets/img/cit-header.png' %}" class="img-fluid center" style="width: 800px; "> 
  </div>

  <!--<img src="{% static 'assets/img/bannerText.png' %}" style="width: 100%;">-->

  <!-- ======= Header ======= -->
  <header id="header" class="d-flex align-items-cente">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-lg-between">

       <a class="me-auto d-block d-sm-none">TeknoyReserve!</a>

      <nav id="navbar" class="navbar order-last order-lg-0">
        <ul>
          <li><a class="nav-link scrollto" href="{% url 'project:home2_view' %}">Home</a></li>
          <li><a class="nav-link scrollto" href="{% url 'project:about_view' %}">About</a></li>
          <li><a class="nav-link scrollto" href="{% url 'project:services_view' %}">Services</a></li>
          <li><a class="nav-link scrollto" href="{% url 'project:gallery_view' %}">Gallery</a></li>
          <li><a class="nav-link scrollto" href="{% url 'project:team_view' %}">Team</a></li>
          <li><a class="nav-link scrollto" href="{% url 'project:contact_view' %}">Contact</a></li>
          

        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav><!-- .navbar -->
      <a href="#book-a-room" class="book-a-table-btn scrollto d-none d-lg-flex">Reserve</a>

    </div>
  </header><!-- End Header -->
  {% block content %}
  <div style="background-color: #ffffff">
            <div>
                <h3 class="text-uppercase" style="margin: 0; font-size: 40px; font-weight: 700; color: #000000; font-family: 'Poppins', sans-serif;">&nbsp;Room Dashboard
                    <div class="container-fluid d-flex align-items-center justify-content-lg-between">
                        <button type="button" class="btn btn-dark btn-lg" data-toggle="modal" data-target="#awww"><i class="bi bi-plus-lg"></i>&nbsp;ADD ROOM</button>
                    </div>
                </h3>
                
                

            </div><br>
            <!-- START MODAL ADD ROOM -->
            <div class="modal fade" id="awww" tabindex="-1" role="dialog" aria-labelledby="newModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style="background-color:#000000">
                          <h5 class="modal-title" style="color:#ffffff; font-family: Poppins;">Enter Details</h5>
                          <button type="button" class="btn" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:#ffffff">&times;</span>
                          </button>
                        </div>
                        <form  method="post" >
                        {% csrf_token %}
                        <div class="modal-body">
                          
                                  <div class = "form-group">
                                    
                                    <input type="hidden" class="form-control"  placeholder="ID" name="update-rid" value = {{Users.rid}} readonly>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Room Name</b></label>
                                    <input type="text" class="form-control"  name="add-room" value = {{Users.username_id}}>
                                  </div>
                                  <div class = "form-group">
                                    <label>  <input type="checkbox"  placeholder="Available"  id="isAvailable" name="isAvailable">
                                    Available </label>

                                  </div>
                                  <!-- <div class = "form-group">
                                    <label><b>Start Date</b></label>
                                    <input type="date" class="form-control"   name="update-date" value = {{Users.date|date:'Y-m-d'}}>
                                  </div> -->
                              </div>
                        <div class="modal-footer">  
                            <button type="submit" id = "btnUpdateUsers" name = "btnAddRoom" href = "{% url 'project:room-dashboard_view' %}" class="btn btn-success" >Add Room</button>                            
                            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>                          
                        </div>
                      </div>
                      {{ form }}
                    </form>
                    </div>
                  </div>
            <table id="example" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>                    
                    <th>Email</th>
                    <th>Contact Number</th>
                    <th>Time-in</th>
                    <th>Time-out</th>
                    <th>Date</th>
                    <th>Number of People</th>
                    <th>Room Type</th>
                    <th style="width: 120px">Action</th>
                   
                </tr>
            </thead>
            <tbody>              
                    {% for Users in rr %}    
                <tr>
                      <td>{{Users.rid}}</td>
                      <td>{{Users.username_id}}</td>
                      <td>{{Users.email}}</td>
                      <td>{{Users.contact}}</td>
                      <td>{{Users.timein}}</td>
                      <td>{{Users.timeout}}</td>
                      <td>{{Users.date}}</td>
                      <td>{{Users.numpersons}}</td>
                      <td>{{Users.room.meeting_room}}</td>
                     
                      <td>
                          <a type="button" class="square_btn_up1" href="#" data-toggle="modal" data-target="#{{Users.rid}}"><i class="far fa-edit"></i></a>
                          <a type="button" class="square_btn_del1" href="#" data-toggle="modal" data-target="#1{{Users.rid}}"><i class="far fa-trash-alt"></i></a>
                      </td>
                </tr>
                
                <!-- Modal VIEW-->
                  <div class="modal fade" id="{{Users.rid}}" tabindex="-1" role="dialog" aria-labelledby="newModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style="background-color:#000000">
                          <h5 class="modal-title" style="color:#ffffff; font-family: Poppins;">View Details</h5>
                          <button type="button" class="btn" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:#ffffff">&times;</span>
                          </button>
                        </div>
                        <form  method="post" >
                        {% csrf_token %}
                        <div class="modal-body">
                          
                                  <div class = "form-group">
                                    
                                    <input type="hidden" class="form-control"  placeholder="ID" name="update-rid" value = {{Users.rid}} readonly>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Username</b></label>
                                    <input type="text" class="form-control"   name="update-username" value = {{Users.username_id}}>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Email</b></label>
                                    <input type="text" class="form-control"    name="update-email" value = {{Users.email}}>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Contact</b></label>
                                    <input type="text" class="form-control"   name="update-contact" value = {{Users.contact}}>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Time-in</b></label>
                                    <input type="time" class="form-control"   name="update-timein" 
                                    value = {{Users.timein|time:"H:i"}}>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Time-out</b></label>
                                    <input type="time" class="form-control"   name="update-timeout" 
                                    value = {{Users.timeout|time:"H:i"}}>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Date</b></label>
                                    <input type="date" class="form-control"   name="update-date" value = {{Users.date|date:'Y-m-d'}}>
                                  </div>
                                  <div class = "form-group">
                                    <label><b>Number of People</b></label>
                                    <input type="text" class="form-control"   name="update-numpersons" value = {{Users.numpersons}}>
                                  </div>
                                 
                                  <div class = "form-group">
                                    <label><b>Type of Room</b></label>
                                    <select type="text" id = "doctor_id" name ="update-room" class="form-select">                
                                      <option hidden>{{Users.room.meeting_room}}</option>
                                      {% for rooms in mr %}                  
                                        <option  value="{{rooms.room_id}}">{{rooms.meeting_room}}</option>
                                        {% endfor %}
                                    </select>
                                  </div>

                                  <!-- <div class = "form-group">
                                    <label><b>Room Type</b></label>
                                      <select class="form-select"  name="update-room" aria-label="Default select example">
                                        {% for rooms in mr %}  
                                            
                                          <option value="{{rooms.room_id}}">{{rooms.meeting_room}}</option>
                                       
                                        {% endfor %}
                                      </select>
                                  </div> -->
                              </div>
                        <div class="modal-footer">  
                            <button type="submit" id = "btnUpdateUsers" name = "btnUpdateRoom" href = "{% url 'project:room-dashboard_view' %}" class="btn btn-success" >Save Changes</button>                            
                            <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>                          
                        </div>
                      </div>
                      {{ form }}
                    </form>
                    </div>
                  </div>

                  <!-- Modal DELETE-->
                  <div class="modal fade" id="1{{Users.rid}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header" style="background-color:#000000">
                          <h5 class="modal-title" id="exampleModalLabel" style="color:#ffffff; font-family: Poppins;">Delete Record</h5>
                          <button type="button" class="btn" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true" style="color:#ffffff">&times;</span>
                          </button>
                        </div>
                        <form id="deleteForm" method="post" >
                        {% csrf_token %} 
                        <div class="modal-body">                       
                          <input type="hidden" name="delete-rid" value = {{Users.rid}}>
                          <input type="text" name="setroomavail" value = {{Users.room_id}}>
                          <input type="date" class="form-control"   name="date" value = "{{Users.room.start_date|date:'Y-m-d'}}" hidden>
                          Are you sure you want to delete this record?
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-success" data-dismiss="modal">No</button>
                          <button type="submit" id = "btnDelete" name = "btnDeleteRoom" class="btn btn-danger" href = "{% url 'project:room-dashboard_view' %}" >Yes</button>
                        </div>
                      </div>
                    </form>
                    </div>
                  </div>
                {% endfor %}
            </tbody>
        </table>
      </div>
      {% endblock content %}

        <script>
        $(".toggle-password").click(function() {
        $(this).toggleClass("fa-eye fa-eye-slash");
          var input = $($(this).attr("toggle"));
          if (input.attr("type") == "password") {
            input.attr("type", "text");
          } else {
            input.attr("type", "password");
          }
        });
        </script>
          

    </div>
  
  <!-- Vendor JS Files -->
  <script src="{% static 'assets/vendor/aos/aos.js' %}"></script>
  <script src="{% static 'assets/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/glightbox/js/glightbox.min.js' %}"></script>
  <script src="{% static 'assets/vendor/isotope-layout/isotope.pkgd.min.js' %}"></script>
  <script src="{% static 'assets/vendor/swiper/swiper-bundle.min.js' %}"></script>
  <script src="{% static 'assets/vendor/php-email-form/validate.js' %}"></script>

  <!-- Template Main JS File -->
  <script src="{% static 'assets/js/main.js' %}"></script>

</body>

</html>